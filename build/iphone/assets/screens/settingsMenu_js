var SettingsMenu={_orientationModes:{},inited:!1,pickerInited:!1,modal:{},modalNav:{},picker:{},modal_done_btn:{},table:{},picker_view:{},picker_cancel_btn:{},picker_done_btn:{},spacer:{},toolbar:{},picker_data:[],modalBg:{},slide_in:{},slide_out:{},fontSizes:{},_currMode:{},handlePickerDoneBtnClick:{},handlePickerCancelBtnClick:{},handleModalDoneClick:{},handleTableClick:{},_toolbarGradient:{type:"linear",colors:["#888888","#000001"],startPoint:{x:0,y:0},endPoint:{x:0,y:50},backFillStart:!1},navHeaderHeight:40};SettingsMenu.setSettingsListeners=function(){try{SettingsMenu.modal_done_btn.removeEventListener("click",SettingsMenu.handleModalDoneClick),Titanium.Gesture.removeEventListener("orientationchange",SettingsMenu.resetLayout)}finally{SettingsMenu.modal_done_btn.addEventListener("click",SettingsMenu.handleModalDoneClick),Titanium.Gesture.addEventListener("orientationchange",SettingsMenu.resetLayout)}},SettingsMenu.resetLayout=function(){var e=TiUtils.getAppHeight(),t=TiUtils.getAppWidth(),i=TiUtils.getPickerViewHeight();Ti.API.info("SettingsMenu.resetLayout:"+TiUtils.getOrientation()),SettingsMenu.toolbar.top="portrait"===TiUtils.getOrientation()?0:13,Ti.API.info("tempAppWidth"+t),Ti.API.info("tempAppHeight"+e),SettingsMenu.picker_view.width=t,SettingsMenu.toolbar.width=t,SettingsMenu.picker.width=t,Ti.API.info("pickerViewHeight:"+i),SettingsMenu.picker_view.height=i,Ti.API.info("tempAppHeight-pickerViewHeight: "+(e-i)),SettingsMenu.picker_view.top=e-i},SettingsMenu.setPickerData=function(){Titanium.API.info("build the picker data");var e=Titanium.App.Properties.getString("fontSize_preference");Titanium.API.info("font size preference:"+e);for(var t=0;t<SettingsMenu.fontSizes.length;t++)Titanium.API.info("fontSizes[i].toString(): "+SettingsMenu.fontSizes[t].toString()),SettingsMenu.fontSizes[t].toString()==e?(Titanium.API.info("!!!!COOL: set selected for this one"),Titanium.App.Properties.setString("fontSizeRowIndex_preference",t.toString()),SettingsMenu.picker_data.push(Titanium.UI.createPickerRow({title:SettingsMenu.fontSizes[t].toString(),selected:!0}))):(Titanium.API.info("Dont set selected for this one"),SettingsMenu.picker_data.push(Titanium.UI.createPickerRow({title:SettingsMenu.fontSizes[t].toString()})))},SettingsMenu.handlePickerDoneBtnClick=function(){Titanium.API.info("handlePickerDoneBtnClick"),Titanium.App.fireEvent("fontSizeChanged",{data:SettingsMenu.picker.getSelectedRow(0).title}),Titanium.App.Properties.setString("fontSize_preference",SettingsMenu.picker.getSelectedRow(0).title),"game"!==SettingsMenu._currMode&&TiUtils.showAlertDialog("Alert","The font size will be changed on the game memorizer screen.",["OK"]),SettingsMenu.hidePicker()},SettingsMenu.handleModalDoneClick=function(){SettingsMenu.hideSettings()},SettingsMenu.handleTableClick=function(e){var t=e.rowData.title;"Enter your own quote"===t?(Titanium.API.info("clicked Enter your own quote"),Titanium.App.Properties.setString("quoteEditAction_preference","add"),SettingsMenu.modal.close(),Titanium.App.fireEvent("closeSettingsMenuEvent",{}),Titanium.App.fireEvent("showQuoteEditorEvent",{})):"Quote Font Size"===t?SettingsMenu.showPicker():"Email Quote"===t?Titanium.App.fireEvent("emailQuoteEvent",{}):"Copy Quote to Clipboard"===t?Titanium.App.fireEvent("copyQuoteEvent",{}):"Back"===t?SettingsMenu.hideSettings():"Send Feedback"===t&&Titanium.App.fireEvent("sendFeedback",{})},SettingsMenu.handleCloseClick=function(){SettingsMenu.hideSettings()},SettingsMenu.showSettings=function(){SettingsMenu.init(),SettingsMenu.closeButton=Ti.UI.createButton({borderRadius:10,font:{fontSize:16,fontFamily:AddQuote._fontFamily,fontWeight:"bold"}}),SettingsMenu.closeButton.title="Close",SettingsMenu.closeButton.height=35,SettingsMenu.closeButton.width=200,SettingsMenu.closeButton.top=5,Titanium.API.info("SettingsMenu.showSettings()"),SettingsMenu.table=Ti.UI.createTableView({style:Ti.UI.iPhone.TableViewStyle.GROUPED,data:[{title:"Enter your own quote",hasChild:!0,header:"Options and Settings"},{title:"Quote Font Size",hasChild:!0},{title:"Email Quote",hasChild:!0},{title:"Copy Quote to Clipboard",hasChild:!0},{title:"Send Feedback",hasChild:!0,header:""}]}),SettingsMenu.table.top=40,SettingsMenu.table.addEventListener("click",SettingsMenu.handleTableClick),SettingsMenu.closeButton.addEventListener("click",SettingsMenu.handleCloseClick),SettingsMenu.modal.add(SettingsMenu.closeButton),SettingsMenu.modal.add(SettingsMenu.table);Ti.UI.iOS.createNavigationWindow({modal:!0,window:SettingsMenu.modal});SettingsMenu.modal.open({modal:!0})},SettingsMenu.hideSettings=function(){TiUtils.isAndroid()&&SettingsMenu.picker.removeEventListener("change",SettingsMenu.handlePickerDoneBtnClick),SettingsMenu.modal.close()},SettingsMenu.showPicker=function(){Titanium.API.info("clicked Font Size"),SettingsMenu.pickerInited?SettingsMenu.setPickerData():(SettingsMenu.pickerInit(),SettingsMenu.pickerInited=!0),SettingsMenu.modal.add(SettingsMenu.picker_view),SettingsMenu.picker_view.height=TiUtils.getPickerViewHeight(),SettingsMenu.picker_view.top=TiUtils.getAppHeight()-TiUtils.getPickerViewHeight(),SettingsMenu.picker_view.width=TiUtils.getAppWidth(),SettingsMenu.picker.setSelectedRow(0,Number(Titanium.App.Properties.getString("fontSizeRowIndex_preference"))),Titanium.API.info("font preference:"+Titanium.App.Properties.getString("fontSize_preference")),SettingsMenu.picker_view.visible=!0},SettingsMenu.hidePicker=function(){SettingsMenu.picker_view.visible=!1},SettingsMenu.pickerInit=function(){var e=Titanium.UI.iPhone.SystemButtonStyle.BORDERED,t=Titanium.UI.iPhone.SystemButtonStyle.DONE;TiUtils.isAndroid()&&(e={},t={}),Titanium.API.info("pickerInit()1"),SettingsMenu.picker_view=Titanium.UI.createView({width:TiUtils.getAppWidth()}),SettingsMenu.picker_done_btn=Titanium.UI.createButton({title:"Done",style:t}),SettingsMenu.picker_done_btn.addEventListener("click",SettingsMenu.handlePickerDoneBtnClick),SettingsMenu.picker=Titanium.UI.createPicker({top:43,selectionIndicator:!0}),SettingsMenu.toolbar=TiUtils.isAndroid()?Titanium.UI.createView({top:0,height:40,backgroundColor:"#000000",opacity:".6"}):Titanium.UI.createToolbar({top:0,items:[SettingsMenu.picker_done_btn]}),SettingsMenu.fontSizes=[12,14,16,18,20,22,24,26,28,30],TiUtils.isiPad()&&(SettingsMenu.fontSizes=[20,22,24,26,28,30,32,34,36,38,40,47,50,52,54,56,58,60,62,64,66,68,70]),SettingsMenu.setPickerData(),SettingsMenu.picker.add(SettingsMenu.picker_data),SettingsMenu.picker_view.add(SettingsMenu.toolbar),SettingsMenu.picker_view.add(SettingsMenu.picker),Titanium.API.info("pickerInit()1")},SettingsMenu.init=function(){SettingsMenu._orientationModes=[Titanium.UI.LANDSCAPE_LEFT,Titanium.UI.LANDSCAPE_RIGHT,Titanium.UI.PORTRAIT,Titanium.UI.UPSIDE_PORTRAIT],SettingsMenu.slide_in=Titanium.UI.createAnimation({bottom:0}),SettingsMenu.slide_out=Titanium.UI.createAnimation({bottom:-251}),SettingsMenu.modal=Ti.UI.createWindow({height:500,top:0,backgroundColor:"#FFFFFF",statusBarStyle:Titanium.UI.iPhone.StatusBar.LIGHT_CONTENT,fullscreen:!0}),SettingsMenu.modalBg=Ti.UI.createView({height:500,top:0,backgroundColor:"#FFFFFF"}),SettingsMenu.modal.add(SettingsMenu.modalBg),SettingsMenu.modal.orientationModes=SettingsMenu._orientationModes,SettingsMenu.modal_done_btn=Titanium.UI.createButton({title:"Done",height:35,width:200}),SettingsMenu._currMode=Titanium.App.Properties.getString("currMode_preference"),SettingsMenu.modal.setRightNavButton(SettingsMenu.modal_done_btn),SettingsMenu.setSettingsListeners(),Titanium.UI.orientation<3?SettingsMenu.toolbar.top=0:Titanium.UI.orientation>2&&Titanium.UI.orientation<5&&(SettingsMenu.toolbar.top=13)};